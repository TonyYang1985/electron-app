# åˆ›å»ºç®€å•å›¾æ ‡çš„PowerShellè„šæœ¬
# ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡ŒPowerShellï¼Œç„¶åæ‰§è¡Œæ­¤è„šæœ¬

Write-Host "æ­£åœ¨åˆ›å»ºåº”ç”¨å›¾æ ‡..." -ForegroundColor Green

# assets
$assetsDir = "assets"
if (!(Test-Path $assetsDir)) {
    New-Item -ItemType Directory -Path $assetsDir
    Write-Host "å·²åˆ›å»º $assetsDir ç›®å½•" -ForegroundColor Yellow
}

# æ–¹æ³•1: ä¸‹è½½å…è´¹å›¾æ ‡
Write-Host "æ­£åœ¨ä¸‹è½½å…è´¹å›¾æ ‡..." -ForegroundColor Cyan

try {
    # ä¸‹è½½ä¸€ä¸ªå…è´¹çš„åº”ç”¨å›¾æ ‡ï¼ˆPNGæ ¼å¼ï¼‰
    $iconUrl = "https://cdn-icons-png.flaticon.com/256/3659/3659898.png"
    $iconPath = "$assetsDir\icon.png"
    
    Invoke-WebRequest -Uri $iconUrl -OutFile $iconPath -ErrorAction Stop
    Write-Host "âœ… å·²ä¸‹è½½å›¾æ ‡: $iconPath" -ForegroundColor Green
    
    # è½¬æ¢ä¸ºICOæ ¼å¼ï¼ˆWindowséœ€è¦ï¼‰
    Write-Host "æ­£åœ¨è½¬æ¢ä¸ºICOæ ¼å¼..." -ForegroundColor Cyan
    
    # ä½¿ç”¨åœ¨çº¿APIè½¬æ¢ï¼ˆå¦‚æœæœ‰ç½‘ç»œï¼‰
    $icoUrl = "https://convertio.co/api/convert/"  # è¿™åªæ˜¯ç¤ºä¾‹ï¼Œå®é™…éœ€è¦APIå¯†é’¥
    
    Write-Host "âš ï¸ è¯·æ‰‹åŠ¨å°† icon.png è½¬æ¢ä¸º icon.ico" -ForegroundColor Yellow
    Write-Host "æ¨èä½¿ç”¨åœ¨çº¿å·¥å…·: https://www.icoconverter.com/" -ForegroundColor Cyan
    
} catch {
    Write-Host "âš ï¸ ä¸‹è½½å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨åˆ›å»ºå›¾æ ‡æ–‡ä»¶" -ForegroundColor Yellow
}

# æ–¹æ³•2: åˆ›å»ºå›¾æ ‡æ–‡ä»¶è¯´æ˜
$iconReadme = @"
# å›¾æ ‡æ–‡ä»¶è¯´æ˜

è¯·å°†ä»¥ä¸‹å›¾æ ‡æ–‡ä»¶æ”¾åœ¨æ­¤ç›®å½•ä¸­ï¼š

## å¿…éœ€æ–‡ä»¶ï¼š
1. icon.png - 256x256åƒç´ ï¼Œç”¨äºLinuxå’Œé€šç”¨ç”¨é€”
2. icon.ico - Windowså›¾æ ‡ï¼ŒåŒ…å«å¤šä¸ªå°ºå¯¸
3. icon.icns - macOSå›¾æ ‡ï¼ˆå¯é€‰ï¼‰

## åœ¨çº¿å›¾æ ‡ç”Ÿæˆå·¥å…·ï¼š
- https://www.icoconverter.com/ - å…è´¹è½¬æ¢PNGåˆ°ICO
- https://appicon.co/ - ä¸“ä¸šåº”ç”¨å›¾æ ‡ç”Ÿæˆå™¨
- https://www.canva.com/ - åœ¨çº¿å›¾æ ‡è®¾è®¡

## å¿«é€Ÿè§£å†³æ–¹æ¡ˆï¼š
å¦‚æœæš‚æ—¶æ²¡æœ‰å›¾æ ‡ï¼Œå¯ä»¥ï¼š
1. åœ¨package.jsonä¸­æ³¨é‡Šæ‰æ‰€æœ‰iconé…ç½®
2. ä½¿ç”¨é»˜è®¤Electronå›¾æ ‡è¿›è¡Œæµ‹è¯•
3. åç»­å†æ·»åŠ è‡ªå®šä¹‰å›¾æ ‡

## ä¸´æ—¶è·³è¿‡å›¾æ ‡ï¼š
åœ¨package.jsonçš„buildé…ç½®ä¸­æ³¨é‡Šæ‰ï¼š
- win.icon
- mac.icon  
- linux.icon
"@

$iconReadme | Out-File -FilePath "$assetsDir\README.md" -Encoding UTF8

Write-Host "âœ… å·²åˆ›å»ºå›¾æ ‡è¯´æ˜æ–‡ä»¶: $assetsDir\README.md" -ForegroundColor Green

# æ˜¾ç¤ºä¸‹ä¸€æ­¥æ“ä½œ
Write-Host "`nğŸ“‹ ä¸‹ä¸€æ­¥æ“ä½œï¼š" -ForegroundColor Magenta
Write-Host "1. è®¿é—® https://www.icoconverter.com/" -ForegroundColor White
Write-Host "2. ä¸Šä¼ ä¸€å¼ PNGå›¾ç‰‡ï¼Œç”ŸæˆICOæ–‡ä»¶" -ForegroundColor White
Write-Host "3. ä¸‹è½½ç”Ÿæˆçš„ICOæ–‡ä»¶ï¼Œé‡å‘½åä¸º icon.ico" -ForegroundColor White
Write-Host "4. å°† icon.ico æ”¾å…¥ assets ç›®å½•" -ForegroundColor White
Write-Host "5. é‡æ–°è¿è¡Œæ„å»ºå‘½ä»¤" -ForegroundColor White

Write-Host "`nğŸš€ æˆ–è€…å…ˆè·³è¿‡å›¾æ ‡ï¼Œç›´æ¥æµ‹è¯•æ„å»ºï¼š" -ForegroundColor Magenta
Write-Host "npm run build:win" -ForegroundColor Yellow